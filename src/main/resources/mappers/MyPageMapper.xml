<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="inflearn_clone.springboot.mappers.MyPageMapper">

  <!-- 내 강의 리스트 -->
  <select id="getMyCourses" parameterType="string">
    SELECT
      c.idx AS courseIdx,
      c.title,
      c.description,
      c.category,
      c.price,
      c.thumbnail,
      c.teacherId,
      t.name AS teacherName,
      o.orderDate,
      o.orderPrice
    FROM
      tbl_order o
        JOIN
      tbl_course c ON o.courseIdx = c.idx
        JOIN
      tbl_member t ON c.teacherId = t.memberId
    WHERE
      o.memberId = #{memberId}
    ORDER BY
      o.orderDate DESC
  </select>
</mapper>
